<?xml version="1.0" encoding="utf-8" ?>
<ContentPage xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             x:Class="wms_android.Views.ReceiptCartView"
             BackgroundColor="{StaticResource Surface}"
             Title="Cart Receipt">
    <ScrollView>
        <VerticalStackLayout Padding="20" Spacing="16">
            <Frame Padding="16" HasShadow="True" BorderColor="#DDD" CornerRadius="10">
                <VerticalStackLayout Spacing="8">
                    <Label Text="Receipt" FontSize="24" FontAttributes="Bold" HorizontalOptions="Center" Margin="0,0,0,16" />

                    <Grid ColumnDefinitions="Auto,*" RowDefinitions="Auto,Auto,Auto" RowSpacing="8" ColumnSpacing="16">
                        <Label Grid.Row="0" Grid.Column="0" Text="Waybill Number:" FontAttributes="Bold" />
                        <Label Grid.Row="0" Grid.Column="1" Text="{Binding WaybillNumber}" />

                        <Label Grid.Row="1" Grid.Column="0" Text="Total Amount:" FontAttributes="Bold" />
                        <Label Grid.Row="1" Grid.Column="1" Text="{Binding TotalAmount, StringFormat='Ksh {0:N2}'}" />

                        <Label Grid.Row="2" Grid.Column="0" Text="Payment Method:" FontAttributes="Bold" />
                        <Label Grid.Row="2" Grid.Column="1" Text="{Binding PaymentMethod}" />
                    </Grid>
                </VerticalStackLayout>
            </Frame>

            <Label Text="Parcels" FontSize="20" FontAttributes="Bold" Margin="0,16,0,8" />
            
            <CollectionView ItemsSource="{Binding Parcels}">
                <CollectionView.ItemTemplate>
                    <DataTemplate>
                        <Frame Padding="16" Margin="0,0,0,8" HasShadow="True" BorderColor="#DDD" CornerRadius="5">
                            <Grid RowDefinitions="Auto,Auto,Auto,Auto" RowSpacing="8">
                                <Label Grid.Row="0" Text="{Binding Sender, StringFormat='Sender: {0}'}" />
                                <Label Grid.Row="1" Text="{Binding Receiver, StringFormat='Receiver: {0}'}" />
                                <Label Grid.Row="2" Text="{Binding Destination, StringFormat='Destination: {0}'}" />
                                <Label Grid.Row="3" Text="{Binding Amount, StringFormat='Amount: Ksh {0:N2}'}" FontAttributes="Bold" />
                            </Grid>
                        </Frame>
                    </DataTemplate>
                </CollectionView.ItemTemplate>
            </CollectionView>

            <Button 
                Text="Print Receipt" 
                Command="{Binding PrintCartReceiptCommand}" 
                BackgroundColor="#2196F3"
                TextColor="White"
                HorizontalOptions="Center"
                Margin="0,16,0,0" />
        </VerticalStackLayout>
    </ScrollView>
</ContentPage>